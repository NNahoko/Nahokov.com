{"ast":null,"code":"var _jsxFileName = \"/Users/n/my-app/src/t.js\";\nimport React from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { DELETE_BOOKINFO, BOOKINFO } from './Query';\nimport EditForm from './EditBookinfo';\n\nfunction Books() {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(BOOKINFO);\n  const [deleteBookinfo] = useMutation(DELETE_BOOKINFO, {\n    refetchQueries: [{\n      query: BOOKINFO\n    }]\n  });\n\n  const deleteInfo = id => {\n    deleteBookinfo({\n      variables: {\n        id\n      }\n    });\n  };\n\n  const set = book => {\n    /*#__PURE__*/\n    React.createElement(EditForm, {\n      book: book,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }\n    });\n  };\n\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 25\n    }\n  }, \"Loading...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 23\n    }\n  }, \"Error :(\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, data.bookinfos.map(book => /*#__PURE__*/React.createElement(\"li\", {\n    key: book.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }, \"\\u3000\", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 21\n    }\n  }, book.id), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, book.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, book.author), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => set(book),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deleteInfo(book.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, \"Delete\"))));\n}\n\nexport default Books;","map":{"version":3,"sources":["/Users/n/my-app/src/t.js"],"names":["React","useQuery","useMutation","DELETE_BOOKINFO","BOOKINFO","EditForm","Books","loading","error","data","deleteBookinfo","refetchQueries","query","deleteInfo","id","variables","set","book","bookinfos","map","title","author"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,gBAAtC;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,SAA1C;AACA,OAAOC,QAAP,MAAqB,gBAArB;;AAGA,SAASC,KAAT,GAAkB;AACd,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BR,QAAQ,CAACG,QAAD,CAAzC;AAEA,QAAM,CAAEM,cAAF,IAAqBR,WAAW,CAACC,eAAD,EAAkB;AACpDQ,IAAAA,cAAc,EAAE,CAAE;AAAEC,MAAAA,KAAK,EAAER;AAAT,KAAF;AADoC,GAAlB,CAAtC;;AAKA,QAAMS,UAAU,GAAIC,EAAD,IAAQ;AACvBJ,IAAAA,cAAc,CAAC;AAAEK,MAAAA,SAAS,EAAE;AAAED,QAAAA;AAAF;AAAb,KAAD,CAAd;AACH,GAFD;;AAGA,QAAME,GAAG,GAAIC,IAAD,IAAU;AACpB;AAAA,wBAAC,QAAD;AAAU,MAAA,IAAI,EAAEA,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,GAFD;;AAIA,MAAIV,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;AAEP,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,IAAI,CAACS,SAAL,CAAeC,GAAf,CAAmBF,IAAI,iBACtB;AAAM,IAAA,GAAG,EAAEA,IAAI,CAACH,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIG,IAAI,CAACH,EAAT,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIG,IAAI,CAACG,KAAT,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIH,IAAI,CAACI,MAAT,CAHJ,eAII;AAAQ,IAAA,OAAO,EAAE,MAAML,GAAG,CAACC,IAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI;AAAQ,IAAA,OAAO,EAAE,MAAMJ,UAAU,CAACI,IAAI,CAACH,EAAN,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CADD,CADH,CADJ;AAaL;;AAEH,eAAeR,KAAf","sourcesContent":["import React from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { DELETE_BOOKINFO, BOOKINFO } from './Query'\nimport EditForm from './EditBookinfo';\n\n\nfunction Books () {\n    const { loading, error, data } = useQuery(BOOKINFO);\n   \n    const [ deleteBookinfo ] = useMutation(DELETE_BOOKINFO, {\n        refetchQueries: [ { query: BOOKINFO } ]\n    })\n\n\n    const deleteInfo = (id) => {\n        deleteBookinfo({ variables: { id } })\n    }\n    const set = (book) => {\n      <EditForm book={book}/>\n    }\n  \n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error :(</p>;\n\n        return (\n            <div>\n              {data.bookinfos.map(book => (\n                < li  key={book.id}>ã€€\n                    <p>{book.id}</p>\n                    <p>{book.title}</p>\n                    <p>{book.author}</p>\n                    <button onClick={() => set(book)} >Edit</button>\n                    <button onClick={() => deleteInfo(book.id)} >Delete</button>\n                </li>\n              ))}\n            </div>\n          );\n  }\n\nexport default Books;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}