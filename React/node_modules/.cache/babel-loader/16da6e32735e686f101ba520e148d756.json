{"ast":null,"code":"var _jsxFileName = \"/Users/n/my-app/src/Components/Bookinfos.js\";\nimport React from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { DELETE_BOOKINFO, BOOKINFO } from './Query';\nimport styles from './Table.module.css';\nimport Edit from './SelectEdit';\nexport const UserCount = React.createContext();\n\nfunction Books() {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(BOOKINFO);\n  const [deleteBookinfo] = useMutation(DELETE_BOOKINFO, {\n    refetchQueries: [{\n      query: BOOKINFO\n    }]\n  });\n\n  const deleteInfo = id => {\n    deleteBookinfo({\n      variables: {\n        id\n      }\n    });\n  };\n\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }\n  }, \"Error :(\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: styles.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 15\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \"Author\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, data.bookinfos.map(book => /*#__PURE__*/React.createElement(\"tr\", {\n    key: book.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 27\n    }\n  }, book.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 27\n    }\n  }, book.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 27\n    }\n  }, book.author), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deleteInfo(book.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 31\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(UserCount.Provider, {\n    value: book.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Edit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 31\n    }\n  }))))))));\n}\n\nexport default Books;\n/*\nfunction Books () {\n    const { loading, error, data } = useQuery(BOOKINFO);\n    \n    const [ deleteBookinfo ] = useMutation(DELETE_BOOKINFO, {\n        refetchQueries: [ { query: BOOKINFO } ]\n    })\n\n\n    const deleteInfo = (id) => {\n        deleteBookinfo({ variables: { id } })\n    }\n    \n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error :(</p>;\n\n        return (\n            <div>\n              {data.bookinfos.map(book => (\n                < li  key={book.id}>　\n                    <p>{book.id}</p>\n                    <p>{book.title}</p>\n                    <p>{book.author}</p>\n                    <button onClick={() => deleteInfo(book.id)} >Delete</button>\n                    <Selector/>\n                </li>\n                \n              ))}\n            </div>\n          );\n  }\n\nexport default Books;\n*/","map":{"version":3,"sources":["/Users/n/my-app/src/Components/Bookinfos.js"],"names":["React","useQuery","useMutation","DELETE_BOOKINFO","BOOKINFO","styles","Edit","UserCount","createContext","Books","loading","error","data","deleteBookinfo","refetchQueries","query","deleteInfo","id","variables","table","bookinfos","map","book","title","author"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,gBAAtC;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,SAA1C;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAEA,OAAO,MAAMC,SAAS,GAAGP,KAAK,CAACQ,aAAN,EAAlB;;AAEP,SAASC,KAAT,GAAkB;AAChB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACG,QAAD,CAAzC;AAEA,QAAM,CAAES,cAAF,IAAqBX,WAAW,CAACC,eAAD,EAAkB;AACpDW,IAAAA,cAAc,EAAE,CAAE;AAAEC,MAAAA,KAAK,EAAEX;AAAT,KAAF;AADoC,GAAlB,CAAtC;;AAMA,QAAMY,UAAU,GAAIC,EAAD,IAAQ;AACvBJ,IAAAA,cAAc,CAAC;AAAEK,MAAAA,SAAS,EAAE;AAAED,QAAAA;AAAF;AAAb,KAAD,CAAd;AACH,GAFD;;AAIA,MAAIP,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;AAEP,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,SAAS,EAAEN,MAAM,CAACc,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAJ,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CADF,CADA,eAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGP,IAAI,CAACQ,SAAL,CAAeC,GAAf,CAAmBC,IAAI,iBAC1B;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACL,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKK,IAAI,CAACL,EAAV,CAAlB,eACkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKK,IAAI,CAACC,KAAV,CADlB,eAEkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,IAAI,CAACE,MAAV,CAFlB,eAGkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAQ,IAAA,OAAO,EAAE,MAAMR,UAAU,CAACM,IAAI,CAACL,EAAN,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CAHlB,eAIkB,oBAAC,SAAD,CAAW,QAAX;AAAoB,IAAA,KAAK,EAAEK,IAAI,CAACL,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CADA,CAJlB,CADG,CADH,CANA,CADA,CADF;AAsBL;;AAED,eAAeR,KAAf;AAEA","sourcesContent":["import React from 'react';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { DELETE_BOOKINFO, BOOKINFO } from './Query'\nimport styles from './Table.module.css'\nimport Edit from './SelectEdit'\n\nexport const UserCount = React.createContext()\n\nfunction Books () {\n  const { loading, error, data } = useQuery(BOOKINFO);\n  \n  const [ deleteBookinfo ] = useMutation(DELETE_BOOKINFO, {\n      refetchQueries: [ { query: BOOKINFO } ]\n  })\n\n  \n\n  const deleteInfo = (id) => {\n      deleteBookinfo({ variables: { id } })\n  }\n  \n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error :(</p>;\n\n      return (\n        <div>\n        <table className={styles.table}>\n        <thead>\n          <tr><th>ID</th>\n            <th>Title</th>\n            <th>Author</th></tr>\n        </thead>\n        <tbody>\n          {data.bookinfos.map(book => (\n        <tr key={book.id}><td>{book.id}</td>\n                          <td>{book.title}</td>\n                          <td>{book.author}</td>\n                          <td><button onClick={() => deleteInfo(book.id)} >Delete</button></td>\n                          <UserCount.Provider value={book.id}>\n                          <td><Edit /></td>\n                          </UserCount.Provider></tr>\n                    ))}\n        </tbody>\n      </table>\n      </div>\n        );\n}\n\nexport default Books;\n\n/*\nfunction Books () {\n    const { loading, error, data } = useQuery(BOOKINFO);\n    \n    const [ deleteBookinfo ] = useMutation(DELETE_BOOKINFO, {\n        refetchQueries: [ { query: BOOKINFO } ]\n    })\n\n\n    const deleteInfo = (id) => {\n        deleteBookinfo({ variables: { id } })\n    }\n    \n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error :(</p>;\n\n        return (\n            <div>\n              {data.bookinfos.map(book => (\n                < li  key={book.id}>　\n                    <p>{book.id}</p>\n                    <p>{book.title}</p>\n                    <p>{book.author}</p>\n                    <button onClick={() => deleteInfo(book.id)} >Delete</button>\n                    <Selector/>\n                </li>\n                \n              ))}\n            </div>\n          );\n  }\n\nexport default Books;\n*/\n"]},"metadata":{},"sourceType":"module"}